{"mappings":"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","sources":["src/library.js","src/js/library-cards.js","src/templates/film-card.hbs"],"sourcesContent":["import './js/to-top';\nimport './js/theme-switch';\nimport './js/library-cards';\nimport './js/modal-open-card';\nimport './js/team-modal';\n","import { loaderRender } from './preloader';\nimport cardTemplate from '../templates/film-card.hbs';\nimport { numberConverter } from './prepare-number';\n\nconst paginationBox = document.querySelector('.pagination__list');\nconst cards = document.querySelector('.cards');\nconst emptyEl = document.querySelector('.empty');\nconst modalOpenEl = document.querySelector('.cards');\nconst modalCloseEl = document.querySelector('[data-modal-close]');\nconst modalEl = document.querySelector('[data-modal]');\nconst backdropEl = document.querySelector('.backdrop');\nconst watchedFilmListBtnEl = document.getElementById('js-WatchedButton');\nconst queuedFilmListBtnEl = document.getElementById('js-QueueButton');\nconst WATCHED_STORAGE_KEY = 'watched films';\nconst QUEUE_STORAGE_KEY = 'films in queue';\nconst watchedAttr = 'watched';\nconst queuedAttr = 'queued';\nlet globalCurrentPage = 1;\nlet renderFilmCardPage = null;\n\nloaderRender();\n\nwatchedFilmListBtnEl.addEventListener('click', onLSLoadWatched);\nqueuedFilmListBtnEl.addEventListener('click', onLSLoadQueue);\n\n// —Å–ª—É—Ö–∞—á –Ω–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π UL –∫–∞—Ä—Ç–æ–∫\nmodalOpenEl.addEventListener('click', onModalOpenClick);\n\n// ================================================\n// –ü–æ—á–∞—Ç–∫–æ–≤–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏\nonLSLoadWatched(WATCHED_STORAGE_KEY);\n// ================================================\n\n\n\n// ================================================\n// –§—É–Ω–∫—Ü—ñ—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –õ–°\n// –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ –∞–±–æ null\nfunction readFromLS(key) {\n    let filmsArray = JSON.parse(localStorage.getItem(key));\n    // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—É –≤ –õ–°\n    if (filmsArray === null) {\n        return;\n    }\n    return filmsArray;\n}\n// ================================================\n\n\n\n// ===========================================================\n// –§—É–Ω–∫—Ü—ñ—ó-–æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –≤ —Ö–µ–¥–µ—Ä—ñ\n// –§—É–Ω–∫—Ü—ñ—è-–æ–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ QUEUE\nfunction onLSLoadWatched() {\n    // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—É –≤ –õ–°\n    let filmsArray = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY));\n    if (filmsArray === null) {\n        return;\n    }\n\n    contentRender(WATCHED_STORAGE_KEY, watchedAttr, 1);\n}\n\n// –§—É–Ω–∫—Ü—ñ—è-–æ–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ WATCHED\nfunction onLSLoadQueue() {\n    // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—É –≤ –õ–°\n    let filmsArray = JSON.parse(localStorage.getItem(QUEUE_STORAGE_KEY));\n    if (filmsArray === null) {\n        return;\n    }\n    contentRender(QUEUE_STORAGE_KEY, queuedAttr, 1);\n}\n// ===========================================================\n\n\n\n// ===========================================================\n// –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–º–∞–ª—å–æ–≤–∫–∏ –≤—Å—å–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É –Ω–∞ —Å—Ç–æ—ñ—Ä–Ω—Ü—ñ\nfunction contentRender(storageKey, attrib, currPage) {\n    // –≤–∏—Ç—è–≥—É—î –º–∞—Å–∏–≤ —Ñ—ñ–ª—å–º—ñ–≤ –∑ –õ–°\n    const filmArr = readFromLS(storageKey);\n\n    // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—É –≤ –õ–°\n    if (filmArr === null) {\n        return;\n    }\n\n    // –∑–º—ñ–Ω—é—î –¥–∞—Ç–∞-–∞—Ç—Ä–∏–±—É—Ç\n    cards.dataset.position = attrib;\n    // –î–æ–¥–∞—î–º –∞—Ç—Ä–∏–±—É—Ç –ø–æ—Ç–æ—á–Ω–æ—ó –ø–æ–∑–∏—Ü—ñ—ó –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó\n    cards.dataset.page = currPage;\n\n    // –í–∏–∑–Ω–∞—á–∞—é –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫\n    let allPages = splitArrayOnSubarrays(filmArr).length;\n\n    // –û–±—Ä—ñ–∑–∫–∞ –º–∞—Å–∏–≤—É –Ω–∞ –ø–æ—Ä—Ü—ñ—ó\n    // –ü—Ä–∏ —Ü—å–æ–º—É —Ç—Ä–µ–±–∞ –ø–∞–º'—è—Ç–∞—Ç–∏, —â–æ –Ω—É–º–µ—Ä–∞—Ü—ñ—è –ø–æ—Ä—Ü—ñ—ó –¥–∞–Ω–∏—Ö\n    // (—Ç–æ–±—Ç–æ –º–∞—Å–∏–≤–∞ –≤ –º–∞—Å–∏–≤—ñ) –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 0\n    renderFilmCardPage = currPage - 1;\n    let arrPortion = splitArrayOnSubarrays(filmArr)[renderFilmCardPage];\n\n    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–º–∞—Å–∏–≤—É –Ω–∞ —Ç–µ, —á–∏ –≤—ñ–Ω –Ω–µ –ø—É—Å—Ç–∏–π\n    if (arrPortion === 'undefined') {\n        return;\n    }\n\n    // —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –º–∞—Å–∏–≤ —Ñ—ñ–ª—å–º—ñ–≤\n    renderFilmCards(arrPortion, currPage);\n\n    // —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é\n    paginationMarkupRender(currPage, allPages);\n}\n// ===========================================================\n\n// ===========================================================\n// –§—É–Ω–∫—Ü—ñ—è, —â–æ –ø—ñ–¥–≥–æ—Ç–æ–≤–ª—é—î –¥–∞–Ω—ñ –≤ –∫–∞—Ä—Ç–∫–∏ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä—É\n// - –ü—Ä–∏–π–º–∞—î –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤\n// - –†–µ–Ω–¥–µ—Ä–∏—Ç—å –æ–±'—î–∫—Ç–∏ –≤ –∫–∞—Ä—Ç–∫–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ\nfunction renderFilmCards(films) {\n    if (films === undefined) {\n        return;\n    }\n\n    const markup = films.map(film => {\n        const rating = numberConverter(film.vote_average);\n\n        // –§–æ—Ä–º—É—é –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π –æ–±'—î–∫—Ç –¥–∞–Ω–∏—Ö –¥–ª—è –∑–∞–∫–∏–¥–∞–Ω–Ω—è –≤ handlebar\n        const editedFilm = {\n            ...film,\n            poster_path: `https://image.tmdb.org/t/p/w500${film.poster_path}`,\n            genres: film.filmGenres,\n            release_date: film.release_date.slice(0, 4),\n            vote_average: rating,\n        };\n        return editedFilm;\n    });\n\n    emptyEl.innerHTML = '';\n    cards.innerHTML = cardTemplate(markup);\n}\n// ===========================================================\n\n\n\n// ===========================================================\n// PAGINATION\n// ===========================================================\n\npaginationBox.addEventListener('click', onPaginationLibraryClick);\n\n// –§—É–Ω–∫—Ü—ñ—è —Ä–æ–∑–±–∏–≤–∫–∏ –º–∞—Å–∏–≤—É –Ω–∞ –ø—ñ–¥–º–∞—Å–∏–≤–∏\n// - –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –º–∞—Å–∏–≤—ñ–≤\nfunction splitArrayOnSubarrays(array) {\n    const allCards = 20;\n    const sliceArr = array\n        .map(function (el, ind) {\n            return ind % allCards === 0 ? array.slice(ind, ind + allCards) : null;\n        })\n        .filter(function (el) {\n            return el;\n        });\n    // –ü–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –º–∞—Å–∏–≤—ñ–≤\n    return sliceArr;\n}\n\n// –§—É–Ω–∫—Ü—ñ—è —Ä–µ–Ω–¥–µ—Ä—É –∫–Ω–æ–ø–æ–∫ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó\nfunction paginationMarkupRender(currentPage, allPages) {\n    let markup = '';\n    let beforeTwoPage = currentPage - 2;\n    let beforePage = currentPage - 1;\n    globalCurrentPage = currentPage;\n    let afterPage = currentPage + 1;\n    let afterTwoPage = currentPage + 2;\n\n    if (currentPage > 1) {\n        markup += `<li class=\"pagination__item slider-arrow prev\">&#129144</li>`;\n        markup += `<li class=\"pagination__item\">1</li>`;\n    }\n    if (currentPage > 4) {\n        markup += `<li class=\"pagination__item dots\">...</li>`;\n    }\n    if (currentPage > 3) {\n        markup += `<li class=\"pagination__item\">${beforeTwoPage}</li>`;\n    }\n    if (currentPage > 2) {\n        markup += `<li class=\"pagination__item\">${beforePage}</li>`;\n    }\n    markup += `<li class=\"pagination__item pagination__item--current\">${currentPage}</li>`;\n\n    if (allPages - 1 > currentPage) {\n        markup += `<li class=\"pagination__item\">${afterPage}</li>`;\n    }\n    if (allPages - 2 > currentPage) {\n        markup += `<li class=\"pagination__item\">${afterTwoPage}</li>`;\n    }\n    if (allPages - 3 > currentPage) {\n        markup += `<li class=\"pagination__item dots\">...</li>`;\n    }\n    if (allPages > currentPage) {\n        markup += `<li class=\"pagination__item\">${allPages}</li>`;\n        markup += `<li class=\"pagination__item slider-arrow next\">&#129146</li>`;\n    }\n    paginationBox.innerHTML = markup;\n}\n\n// –§—É–Ω–∫—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏ –∫–ª—ñ–∫—ñ–≤ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó\nfunction onPaginationLibraryClick(event) {\n    if (event.target.nodeName !== 'LI') {\n        return;\n    }\n    if (event.target.textContent === '...') {\n        return;\n    }\n    if (event.target.textContent === 'ü°∏') {\n        window.scrollTo(0, 0);\n        if (cards.dataset.position === watchedAttr) {\n            globalCurrentPage -= 1;\n            contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n            return;\n        }\n        if (cards.dataset.position === queuedAttr) {\n            globalCurrentPage -= 1;\n            contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n            return;\n        }\n    }\n    if (event.target.textContent === 'ü°∫') {\n        window.scrollTo(0, 0);\n        if (cards.dataset.position === watchedAttr) {\n            globalCurrentPage += 1;\n            contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n            return;\n        }\n        if (cards.dataset.position === queuedAttr) {\n            globalCurrentPage += 1;\n            contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n            return;\n        }\n    }\n\n    const page = Number(event.target.textContent);\n    globalCurrentPage = page;\n    window.scrollTo(0, 0);\n    if (cards.dataset.position === watchedAttr) {\n        contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n        return;\n    }\n    if (cards.dataset.position === queuedAttr) {\n        contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n        return;\n    }\n}\n\n\n\n// ===========================================================\n// –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ\n// –§—É–Ω–∫—Ü—ñ—ó –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è / –∑–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏\n// ===========================================================\nasync function onModalOpenClick(event) {\n    event.preventDefault();\n    if (event.target.closest('li')) {\n        modalEl.classList.remove('is-hidden');\n        modalCloseEl.addEventListener('click', onModalCloseClick);\n        backdropEl.addEventListener('click', onBackdropElClick);\n        window.addEventListener('keydown', onEscBtnClick);\n    }\n}\n\nfunction onModalCloseClick() {\n    modalEl.classList.add('is-hidden');\n    modalCloseEl.removeEventListener('click', onModalCloseClick);\n    backdropEl.removeEventListener('click', onBackdropElClick);\n    window.removeEventListener('keydown', onEscBtnClick);\n\n    // –í–∏–∫–ª–∏–∫–∞—é —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—É –≤–º—ñ—Å—Ç—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏\n    if (cards.dataset.position === watchedAttr) {\n        let currDataPage = Number(cards.dataset.page);\n        contentRender(WATCHED_STORAGE_KEY, watchedAttr, currDataPage);\n    }\n    if (cards.dataset.position === queuedAttr) {\n        const filmArr = readFromLS(QUEUE_STORAGE_KEY);\n        let allPages = splitArrayOnSubarrays(filmArr).length;\n        let arrPortion = splitArrayOnSubarrays(filmArr)[renderFilmCardPage];\n\n        if (cards.dataset.page === allPages && arrPortion.length === 1) {\n            contentRender(QUEUE_STORAGE_KEY, queuedAttr, 1);\n            return;\n        }\n\n        let currDataPage = Number(cards.dataset.page);\n        contentRender(QUEUE_STORAGE_KEY, queuedAttr, currDataPage);\n    }\n}\n\nfunction onBackdropElClick(event) {\n    if (event.target === backdropEl) {\n        onModalCloseClick();\n    }\n}\n\nfunction onEscBtnClick(event) {\n    if (event.code === 'Escape') {\n        onModalCloseClick();\n    }\n}\n// ===========================================================\n","{{#each this}}\n  <li class=\"cards__item card\" data-movieid=\"{{id}}\">\n    <a href=\"#\">\n      <div class=\"card__img\">\n        <img src=\"{{poster_path}}\" alt=\"{{title}}\" />\n      </div>\n      <div class=\"card__info\">\n        <h2 class=\"card__title\">{{original_title}}</h2>\n        <ul class=\"card__genres\">{{genres}}\n        </ul>\n        <span class=\"card__year\">{{release_date}}</span>\n        <span class=\"card__rating\">{{vote_average}}</span>\n      </div>\n    </a>\n  </li>\n{{/each}}"],"names":["parcelRequire","$ioBS9","$f3db9c012d4d909d$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$120d9dea778dffdf$var$paginationBox","document","querySelector","$120d9dea778dffdf$var$cards","$120d9dea778dffdf$var$emptyEl","$120d9dea778dffdf$var$modalOpenEl","$120d9dea778dffdf$var$modalCloseEl","$120d9dea778dffdf$var$modalEl","$120d9dea778dffdf$var$backdropEl","$120d9dea778dffdf$var$watchedFilmListBtnEl","getElementById","$120d9dea778dffdf$var$queuedFilmListBtnEl","$120d9dea778dffdf$var$globalCurrentPage","$120d9dea778dffdf$var$renderFilmCardPage","$120d9dea778dffdf$var$readFromLS","key","filmsArray","JSON","parse","localStorage","getItem","$120d9dea778dffdf$var$onLSLoadWatched","$120d9dea778dffdf$var$contentRender","storageKey","attrib","currPage","filmArr","dataset","position","page","allPages","$120d9dea778dffdf$var$splitArrayOnSubarrays","length","arrPortion","films","undefined","markup","map","film","rating","$3ab2c","numberConverter","vote_average","poster_path","genres","filmGenres","release_date","slice","innerHTML","$120d9dea778dffdf$var$renderFilmCards","currentPage","beforeTwoPage","beforePage","afterPage","afterTwoPage","$120d9dea778dffdf$var$paginationMarkupRender","array","el","ind","filter","$120d9dea778dffdf$var$onModalCloseClick","classList","add","removeEventListener","$120d9dea778dffdf$var$onBackdropElClick","window","$120d9dea778dffdf$var$onEscBtnClick","Number","event","target","code","loaderRender","addEventListener","async","preventDefault","closest","remove","nodeName","textContent","scrollTo"],"version":3,"file":"library.4230dd6a.js.map"}